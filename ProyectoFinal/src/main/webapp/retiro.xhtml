<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">
 
<ui:composition template="template/plantilla.xhtml">
    <ui:define name="title">
        Retiro
    </ui:define>
	    <ui:define name="content">
			<div class="col-lg-6" style="padding-top: 2rem;">
						<div class="card">
							<div class="card-body">
								<div class="card-title">Retiro de fondos</div>
								<h:form>
									<div class="form-group">
										<label for="txtNumeroCuenta">Número de cuenta:</label>
										<h:inputText value="#{movimientoBean.numeroCuenta}"
											class="form-control" id="txtNumeroCuenta" placeholder="Ingrese la Cuenta" >
											<f:ajax execute="txtNumeroCuenta" render="txtCedulaUser txtNombreUser" 
												listener="#{movimientoBean.cargarDatosDeCuenta()}" />
										</h:inputText>
									</div>
									
									<div class="form-group">
				                      <label for="txtCedulaUser">Cédula del usuario:</label>
				                      <h:outputText class="form-control" id="txtCedulaUser" value="#{movimientoBean.cedulaUsuario}" />
				                    </div>
				                    <div class="form-group">
				                      <label for="txtNombreUser">Nombre del usuario:</label>
				                      <h:outputText value="#{movimientoBean.nombreUsuario}" class="form-control" id="txtNombreUser" />
				                    </div>
				                    
									<div class="form-group">
										<label for="monto">Monto a retirar</label>
										<h:inputText value="#{movimientoBean.cantidadRetirada}"
											type="number"
											class="form-control" id="monto"
											converterMessage="Solo puede ingresar números"
											placeholder="Ingrese la cantidad a retirar" />
										<h:message for="monto" style="color:red; margin-top: 0.5rem; display: block" />
									</div>
									<div class="form-group d-flex">
										<h:commandButton id="boton-retirar" action="#{movimientoBean.retirarFondos()}"
											value="Retirar" style="flex-grow: 1;" class="btn btn-success px-5" />
									</div>
								</h:form>
							</div>
						</div>
				</div>
		</ui:define>
 
</ui:composition>
</html>

